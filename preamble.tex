\documentclass[12pt,a4paper]{moderncv}

\makeatletter
\def\input@path{{classes/}}
\makeatother

\usepackage[utf8]{inputenc}
\usepackage{publications}
\usepackage[super]{nth}
\usepackage[scale=0.85]{geometry}
\usepackage{tikz}

\moderncvstyle{casual}
\moderncvcolor{blue}

% Change the width of the column with dates
\setlength{\hintscolumnwidth}{2.5cm}

\addbibresource{bibliography/publications.bib}

\name{Malcolm}{Ramsay}
\title{Computational Chemist}
\phone[mobile]{0466~224~898}
\email{malramsay64@gmail.com}
\homepage{github.com/malramsay64}
\homepage{malramsay.com}
\social[linkedin]{malramsay64}
%\social[twitter]{jdoe}
\social[github]{malramsay64}


\newcommand{\cvreference}[5]{%
    \textbf{#1}\newline%
    \ifthenelse{\equal{#2}{}}{}{#2\newline}%
    \ifthenelse{\equal{#3}{}}{}{#3\newline}%
    \ifthenelse{\equal{#4}{}}{}{\phonesymbol~#4\newline}%
    \ifthenelse{\equal{#5}{}}{}{\emailsymbol~\href{mailto:#5}{#5}\newline}%
}

\newcommand{\daterange}[2]{%
  % This ensures the correct spacing
  \vspace{-2em}
  \begin{center}
    #2 \\
     | \\
    #1
  \end{center}
  \vspace{-2em}
}

\newcommand{\chref}[2]{\href{#1}{\color{color1}#2}}

\newcommand\cvskills[4]{%
  \cvcomputer{}{\skills{#1}{#2}}{}{\skills{#3}{#4}}
}


\newcommand\skills[2]{%
  #1 \hfill%
  \begin{tikzpicture}
    \draw[fill=color2,color2, opacity=0.3] (0, 0) rectangle (3, 0.3);
    \draw[fill=color1,color1] (0, 0) rectangle (#2 * 3, 0.3);
  \end{tikzpicture}
}
